@startuml

class Main {
    + {static} main(args : String[]) : void
}

class K8sClientFactory {
    + createApi() : CoreV1Api
}

interface "Monitor<T>" as Monitor {
    + onEvent(resource : T, eventType : String) : void
}

class PodWatcher {
    - monitor : Monitor<V1Pod>
    + PodWatcher(api : CoreV1Api, monitor : Monitor<V1Pod>)
    + start() : void
}

class PodMonitor {
    - notifiers : List<Notifier>
    + addNotifier(notifier : Notifier) : void
    + onEvent(pod : V1Pod, eventType : String) : void
}

interface Notifier {
    + sendAlert(resourceName: String, reason: String, ...) : void
}

class SlackNotifier {
    + sendAlert(...) : void
}

class ConsoleNotifier {
    + sendAlert(...) : void
}


Main ..> K8sClientFactory : <<usa>>
Main ..> PodWatcher : <<crea>>
Main ..> PodMonitor : <<crea>>
Main ..> SlackNotifier : <<crea>>

PodWatcher o--> Monitor : "usa"

Monitor <|.. PodMonitor 

PodMonitor o--> Notifier : "notifica a lista"

Notifier <|.. SlackNotifier
Notifier <|.. ConsoleNotifier

@enduml